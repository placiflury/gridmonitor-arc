<%inherit file="/base/monadmin.html"/>

<%def name="dom_ready()" >\
	var MA_adm_list = Object.create(ListController);
	MA_adm_list.container = $('#MA_adm_list_container');
	MA_adm_list.set_title('Admins:');
	MA_adm_list.set_link('new', 'Add admin');
	MA_adm_list.set_link('edit', 'Change admin');
	MA_adm_list.set_link('del', 'Remove admin');
	MA_adm_list.init('MA_adm_list', 'getadms');
	var MA_adm_editor = Object.create(ListEditor);
	MA_adm_editor.container = $('#MA_adm_editor_container');
	MA_adm_editor.status_container = $('#MA_status');
	MA_adm_editor.url = 'changeadm';
	MA_adm_editor.click = true;
	MA_adm_editor.edit_child = function(fields, that) {
		var that = that || this;
		var shib_unique_id = MA_adm_list.get_selected().data('info').shib_unique_id;
		var fields = {};
		fields['shib_unique_id'] = $('<div id="shib_unique_id"/>');
		that.__proto__.edit_child(fields, that);
		fields['shib_unique_id'].val(undefined).text(shib_unique_id);
	};
	MA_adm_editor.init(MA_adm_list);
	
</%def>

<div id="MA_adm_list_container"></div>
<div id="MA_adm_editor_container"></div>
<div id="MA_status"></div>